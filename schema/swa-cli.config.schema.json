{
  "$schema": "https://json-schema.org/draft-07/schema",
  "properties": {
    "configurations": {
      "additionalProperties": {
        "allOf": [
          {
            "$ref": "#/$defs/globalParameters"
          },
          {
            "$ref": "#/$defs/workflowParameters"
          },
          {
            "$ref": "#/$defs/startCommandParameters"
          },
          {
            "$ref": "#/$defs/loginCommandParameters"
          },
          {
            "$ref": "#/$defs/initCommandParameters"
          },
          {
            "$ref": "#/$defs/deployCommandParameters"
          },
          {
            "$ref": "#/$defs/contextParameters"
          },
          {
            "properties": {
              "login": {
                "allOf": [
                  {
                    "$ref": "#/$defs/globalParameters"
                  },
                  {
                    "$ref": "#/$defs/loginCommandParameters"
                  },
                  {
                    "$ref": "#/$defs/contextParameters"
                  }
                ]
              }
            }
          },
          {
            "properties": {
              "start": {
                "allOf": [
                  {
                    "$ref": "#/$defs/globalParameters"
                  },
                  {
                    "$ref": "#/$defs/workflowParameters"
                  },
                  {
                    "$ref": "#/$defs/startCommandParameters"
                  },
                  {
                    "$ref": "#/$defs/contextParameters"
                  }
                ]
              }
            }
          },
          {
            "properties": {
              "init": {
                "allOf": [
                  {
                    "$ref": "#/$defs/globalParameters"
                  },
                  {
                    "$ref": "#/$defs/initCommandParameters"
                  },
                  {
                    "$ref": "#/$defs/contextParameters"
                  }
                ]
              }
            }
          },
          {
            "properties": {
              "deploy": {
                "allOf": [
                  {
                    "$ref": "#/$defs/globalParameters"
                  },
                  {
                    "$ref": "#/$defs/workflowParameters"
                  },
                  {
                    "$ref": "#/$defs/deployCommandParameters"
                  },
                  {
                    "$ref": "#/$defs/contextParameters"
                  }
                ]
              }
            }
          }
        ]
      },
      "type": "object"
    }
  },
  "$defs": {
    "contextParameters": {
      "properties": {
        "context": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "globalParameters": {
      "properties": {
        "verbose": {
          "description": "Enable verbose output. Values are: silly,info,log,silent",
          "type": "string"
        },
        "swaConfigLocation": {
          "description": "The the directory where the staticwebapp.config.json file is located",
          "type": "string"
        },
        "subscription": {
          "description": "Azure subscription ID used by this project",
          "type": "string"
        },
        "resourceGroup": {
          "description": "Azure resource group used by this project",
          "type": "string"
        },
        "tenant": {
          "description": "Azure tenant ID",
          "type": "string"
        },
        "appName": {
          "description": "Azure Static Web App application name",
          "type": "string"
        },
        "clientId": {
          "description": "Azure client ID",
          "type": "string"
        },
        "clientSecret": {
          "description": "Azure client secret",
          "type": "string"
        }
      },
      "type": "object"
    },
    "workflowParameters": {
      "properties": {
        "apiLocation": {
          "description": "The folder containing the source code of the API application",
          "type": "string"
        },
        "appLocation": {
          "description": "The folder containing the source code of the front-end application",
          "type": "string"
        },
        "outputLocation": {
          "description": "The folder where the front-end public files are location",
          "type": "string"
        },
        "build": {
          "description": "Build the front-end app and API before starting the emulator",
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "startCommandParameters": {
      "properties": {
        "apiPort": {
          "description": "The API server port passed to func start",
          "type": "number"
        },
        "open": {
          "description": "Automatically open the CLI dev server in the default browser",
          "type": "boolean"
        },
        "devserverTimeout": {
          "description": "The time to wait (in ms) when connecting to a front-end application's dev server",
          "type": "number"
        },
        "host": {
          "description": "The host address to use for the CLI dev server",
          "type": "string"
        },
        "port": {
          "description": "The port value to use for the CLI dev server",
          "type": "number"
        },
        "run": {
          "description": "Run a custon shell command or file at startup",
          "type": "string"
        },
        "ssl": {
          "description": "Serve the front-end application and API over HTTPS",
          "type": "boolean"
        },
        "sslCert": {
          "description": "The SSL certificate (.crt) to use when enabling HTTPS",
          "type": "string"
        },
        "sslKey": {
          "description": "The SSL key (.key) to use when enabling HTTPS",
          "type": "string"
        }
      },
      "type": "object"
    },
    "loginCommandParameters": {
      "properties": {
        "persist": {
          "description": "Enable credentials cache persistence",
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "deployCommandParameters": {
      "properties": {
        "deploymentToken": {
          "description": "The secret toekn used to authenticate with the Static Web Apps",
          "not": {}
        },
        "dryRun": {
          "description": "Simulate a deploy process without actually running it",
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "initCommandParameters": {
      "properties": {
        "yes": {
          "description": "Answer yes to all prompts (disable interactive mode)",
          "type": "boolean"
        }
      },
      "type": "object"
    }
  },
  "type": "object"
}
