"use strict";(self.webpackChunk_azure_static_web_apps_cli_docs=self.webpackChunk_azure_static_web_apps_cli_docs||[]).push([[448],{3905:function(t,e,a){a.d(e,{Zo:function(){return u},kt:function(){return m}});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),p=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},u=function(t){var e=p(t.components);return n.createElement(s.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,u=i(t,["components","mdxType","originalType","parentName"]),d=p(a),m=r,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return a?n.createElement(h,o(o({ref:e},u),{},{components:a})):n.createElement(h,o({ref:e},u))}));function m(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5828:function(t,e,a){a.r(e),a.d(e,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return c}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),o=["components"],i={sidebar_position:4,title:"swa start"},s=void 0,p={unversionedId:"cli/swa-start",id:"cli/swa-start",title:"swa start",description:"Synopsis",source:"@site/docs/cli/swa-start.md",sourceDirName:"cli",slug:"/cli/swa-start",permalink:"/static-web-apps-cli/docs/cli/swa-start",editUrl:"https://github.com/azure/static-web-apps-cli/tree/main/docs/www/docs/cli/swa-start.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"swa start"},sidebar:"tutorialSidebar",previous:{title:"swa build",permalink:"/static-web-apps-cli/docs/cli/swa-build"},next:{title:"swa login",permalink:"/static-web-apps-cli/docs/cli/swa-login"}},u={},c=[{value:"Synopsis",id:"synopsis",level:2},{value:"Description",id:"description",level:2},{value:"Serve from a folder",id:"serve-from-a-folder",level:3},{value:"Serve from a dev server",id:"serve-from-a-dev-server",level:3},{value:"Serve both the front-end app and API",id:"serve-both-the-front-end-app-and-api",level:3},{value:"Start the API server automatically",id:"start-the-api-server-automatically",level:4},{value:"Start API server manually",id:"start-api-server-manually",level:4},{value:"Options",id:"options",level:2},{value:"Usage",id:"usage",level:2},{value:"See Also",id:"see-also",level:2}],d={toc:c};function m(t){var e=t.components,a=(0,r.Z)(t,o);return(0,l.kt)("wrapper",(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"synopsis"},"Synopsis"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start [configName|outputLocation|appDevserverUrl] [options]\n")),(0,l.kt)("h2",{id:"description"},"Description"),(0,l.kt)("p",null,"This command is used to start the Azure Static Web Apps emulator from a directory or bind to a dev server."),(0,l.kt)("h3",{id:"serve-from-a-folder"},"Serve from a folder"),(0,l.kt)("p",null,"By default, the CLI starts and serves any the static content from the current working directory ",(0,l.kt)("inlineCode",{parentName:"p"},"./"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start\n")),(0,l.kt)("p",null,"However, you can override this behavior. If the artifact folder of your static app is under a different folder (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"./my-dist"),"), then run the CLI and provide that folder:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start ./my-dist\n")),(0,l.kt)("h3",{id:"serve-from-a-dev-server"},"Serve from a dev server"),(0,l.kt)("p",null,"When developing your front-end app locally, it's often useful to use the dev server that comes with your front-end framework's CLI to serve your app content. Using the framework CLI allows you to use built-in features like the livereload and HMR (hot module replacement)."),(0,l.kt)("p",null,"To use SWA CLI with your local dev server, follow these two steps:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Start your local dev server (as usual). For example, if you are using Angular: ",(0,l.kt)("inlineCode",{parentName:"li"},"ng serve")," (or ",(0,l.kt)("inlineCode",{parentName:"li"},"npm start"),")"),(0,l.kt)("li",{parentName:"ol"},"In a separate terminal, run ",(0,l.kt)("inlineCode",{parentName:"li"},"swa start")," with the URI provided by the dev server, in the following format:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start http://<APP_DEV_SERVER_HOST>:<APP_DEV_SERVER_PORT>\n")),(0,l.kt)("p",null,"Here is a list of the default ports used by some popular dev servers:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Tool"),(0,l.kt)("th",{parentName:"tr",align:null},"Port"),(0,l.kt)("th",{parentName:"tr",align:null},"Command"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://angular.io/cli"},"Angular")),(0,l.kt)("td",{parentName:"tr",align:null},"4200"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:4200"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor"},"Blazor WebAssembly")),(0,l.kt)("td",{parentName:"tr",align:null},"5000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:5000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://www.gatsbyjs.com/docs/gatsby-cli/"},"Gatsby")),(0,l.kt)("td",{parentName:"tr",align:null},"8000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:8000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://gohugo.io/commands/hugo_server/"},"Hugo")),(0,l.kt)("td",{parentName:"tr",align:null},"1313"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:1313"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://nextjs.org/"},"Next.js")),(0,l.kt)("td",{parentName:"tr",align:null},"3000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:3000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://reactjs.org/docs/create-a-new-react-app.html"},"React (Create React App)")),(0,l.kt)("td",{parentName:"tr",align:null},"3000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:3000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://github.com/lukeed/sirv/tree/master/packages/sirv-cli/"},"Svelte (sirv-cli)")),(0,l.kt)("td",{parentName:"tr",align:null},"5000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:5000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://github.com/vuejs/create-vue"},"Vue")),(0,l.kt)("td",{parentName:"tr",align:null},"3000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"swa start http://localhost:3000"))))),(0,l.kt)("p",null,"Instead of starting a dev server separately, you can provide the startup command to the CLI."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# npm start script (React)\nswa start http://localhost:3000 --run "npm start"\n\n# dotnet watch (Blazor)\nswa start http://localhost:5000 --run "dotnet watch run"\n\n# Jekyll\nswa start http://localhost:4000 --run "jekyll serve"\n\n# custom script\nswa start http://localhost:4200 --run "./startup.sh"\n')),(0,l.kt)("p",null,"Then access the application with the emulated services from ",(0,l.kt)("inlineCode",{parentName:"p"},"http://localhost:4280")),(0,l.kt)("h3",{id:"serve-both-the-front-end-app-and-api"},"Serve both the front-end app and API"),(0,l.kt)("p",null,"If your project includes API functions, the CLI will check if the Azure Functions Core Tools are installed and available. If not, the CLI will download and install the right version of the Azure Functions Core Tools."),(0,l.kt)("h4",{id:"start-the-api-server-automatically"},"Start the API server automatically"),(0,l.kt)("p",null,"Run the CLI and provide the folder that contains the API backend (a valid Azure Functions App project):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# static content plus an API\nswa start ./my-dist --api-location ./api\n\n# front-end dev server plus an API\nswa start http://localhost:3000 --api-location ./api\n")),(0,l.kt)("h4",{id:"start-api-server-manually"},"Start API server manually"),(0,l.kt)("p",null,"When developing your backend locally, sometimes it's useful to run Azure Functions Core Tools separately to serve your API. This allows you to use built-in features like debugging and rich editor support."),(0,l.kt)("p",null,"To use the CLI with your local API backend dev server, follow these two steps:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Start your API using Azure Functions Core Tools: ",(0,l.kt)("inlineCode",{parentName:"li"},"func host start")," or start debugging in VS Code."),(0,l.kt)("li",{parentName:"ol"},"In a separate terminal, run the SWA CLI with the ",(0,l.kt)("inlineCode",{parentName:"li"},"--api-location")," flag and the URI of the local API server, in the following format:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start ./my-dist --api-location http://localhost:7071\n")),(0,l.kt)("h2",{id:"options"},"Options"),(0,l.kt)("p",null,"Here are the options you can use with ",(0,l.kt)("inlineCode",{parentName:"p"},"swa login"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-a, --app-location <path>"),': the folder containing the source code of the front-end application (default: ".")'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-i, --api-location <path>"),": the folder containing the source code of the API application"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-O, --output-location <path>"),": the folder containing the built source of the front-end application. The path is relative to ",(0,l.kt)("inlineCode",{parentName:"li"},"--app-location"),' (default: ".")'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-D, --app-devserver-url <url>"),": connect to the app dev server at this URL instead of using output location"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-is, --api-devserver-url <url>"),": connect to the api server at this URL instead of using output location"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-j, --api-port <apiPort>"),": the API server port passed to ",(0,l.kt)("inlineCode",{parentName:"li"},"func start")," (default: 7071)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-q, --host <host>"),': the host address to use for the CLI dev server (default: "localhost")'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p, --port <port>"),": the port value to use for the CLI dev server (default: 4280)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-s, --ssl"),": serve the front-end application and API over HTTPS (default: false)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-e, --ssl-cert <sslCertLocation>"),": the SSL certificate (.crt) to use when enabling HTTPS"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-k, --ssl-key <sslKeyLocation>"),": the SSL key (.key) to use when enabling HTTPS"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-r, --run <startupScript>"),": run a custom shell command or script file at startup"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-t, --devserver-timeout <time>"),": the time to wait (in seconds) when connecting to a front-end application's dev server or api server (default: 60)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-w, --swa-config-location <swaConfigLocation>"),": the directory where the staticwebapp.config.json file is located"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-o, --open"),": open the browser to the dev server (default: false)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-f, --func-args <funcArgs>"),": pass additional arguments to the func start command"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-h, --help"),": display help for command")),(0,l.kt)("h2",{id:"usage"},"Usage"),(0,l.kt)("p",null,"Serve static content from a specific folder"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start ./output-folder\n")),(0,l.kt)("p",null,"Connect to an already running framework development server"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start http://localhost:3000\n")),(0,l.kt)("p",null,"Use staticwebapp.config.json file from a specific location"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start http://localhost:3000 --swa-config-location ./app-source\n")),(0,l.kt)("p",null,"Serve static content from a folder and run an API from another folder"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start ./output-folder --api-location ./api\n")),(0,l.kt)("p",null,"Use a custom command to run framework development server at startup"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'swa start http://localhost:3000 --run-build "npm start"\n')),(0,l.kt)("p",null,"Connect both front-end and the API to running development server"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"swa start http://localhost:3000 --api-location http://localhost:7071\n")),(0,l.kt)("h2",{id:"see-also"},"See Also"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"./swa"},"swa")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"./swa-login"},"swa login"))))}m.isMDXComponent=!0}}]);